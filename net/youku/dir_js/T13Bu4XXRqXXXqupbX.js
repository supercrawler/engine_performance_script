(function(a){a._ent={util:{},data:{config:{timeout:2e3},queue:a._ent}}})(this),function(a,b,c){function g(a,b){function e(){e.isCalled||(e.isCalled=!0,clearTimeout(d),b())}a.nodeName==="SCRIPT"?h(a,e):i(a,e);var d=setTimeout(function(){console.log("Time is out:",a.src),e()},c.config.timeout)}function i(a,b){a.attachEvent?a.attachEvent("onload",b):setTimeout(function(){j(a,b)},0)}function j(a,b){if(b.isCalled)return;var c;if(f)a.sheet&&(c=!0);else if(a.sheet)try{a.sheet.cssRules&&(c=!0)}catch(d){d.code===1e3&&(c=!0)}setTimeout(function(){c?b():j(a,b)},1)}var d=document.head||document.getElementsByTagName("head")[0]||document.documentElement,e=navigator.userAgent,f=~e.indexOf("AppleWebKit");b.getAsset=function(a,b,c){var e=/\.css(?:\?|$)/i.test(a),f=document.createElement(e?"link":"script");c&&(f.charset=c),g(f,b),e?(f.rel="stylesheet",f.href=a,d.appendChild(f)):(f.async="async",f.src=a,currentlyAddingScript=f,d.insertBefore(f,d.firstChild),currentlyAddingScript=null)};var h=b.scriptOnload=function(a,b){a.onload=a.onerror=a.onreadystatechange=function(){if(/loaded|complete|undefined/.test(a.readyState)){a.onload=a.onerror=a.onreadystatechange=null;if(a.parentNode)try{if(a.clearAttributes)a.clearAttributes();else for(var c in a)delete a[c]}catch(d){}a=undefined,b()}}}}(this,_ent.util,_ent.data),function(a,b,c,d){function g(a,b,c){this.id=a,this.dependencies=b,this.factory=c}function h(a){var b=f[a];return b.exports||j(b),b.exports}function i(a,c){b.iS(a)&&(a=[a]);var d=[],e;for(e=0;e<a.length;e++)d[e]=h(a[e]);c.apply(null,d)}function j(a,c){var e=a.factory,f;a.exports={},delete a.factory,b.iF(e)?(f=e(h,a.exports,a),f!==d&&(a.exports=f)):e!==d&&(a.exports=e)}var e=b.mix=function(a,b,c,e){if(!a||!b)return a;c===d&&(c=!0);var f,g,h;if(e&&(h=e.length))for(f=0;f<h;f++)g=e[f],g in b&&(c||!(g in a))&&(a[g]=b[g]);else for(g in b)if(c||!(g in a))a[g]=b[g];return a};e(b,function(){var b=Object.prototype.toString,c=Array.prototype,d;return d={iF:function(a){return b.call(a)==="[object Function]"},iA:function(a){return b.call(a)==="[object Array]"},iS:function(a){return b.call(a)==="[object String]"},iPO:function(a){return a&&b.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval}},a.console||(a.console={}),console.log||(console.log=function(){}),d}());var f=c.memoizedMods={};h.load=function(a,c,d){b.getAsset(a,c,d)},h.async=function(a,b){i(a,b)},a.seajs||(a.define=function(a,c,d){if(b.iF(c)||b.iPO(c))d=c,c=[];var e=new g(a,c,d);f[a]=e},_ent.use=function(a,c){b.iS(a)&&a.indexOf("http://")===0?b.getAsset(a,c):i(a,c)},a.seajs=_ent)}(this,_ent.util,_ent.data),define("ent","ent",function(a,b){_ent.util.mix(b,_ent.util,!0,"mix iF iA iS iPO getAsset".split(" ")),b.substitute=function(a,c,d,e){return!b.iS(a)||!b.iPO(c)?a:a.replace(d||/\\?\{([^{}]+)\}/g,function(a,b){return a.charAt(0)==="\\"?a.slice(1):c[b]!==undefined?c[b]:e?a:""})}}),function(a,b,c){function f(){if(seajs.pluginSDK)return seajs.pluginSDK.util.getCurrentScript();var a=document.getElementsByTagName("script"),b,c,d;for(b=0;b<a.length;b++){c=a[b];if(c._ent){d=c;break}}return d||a[a.length-1]}var d=f(),e;if(!d)return;e=d.onload,b.scriptOnload(d,function(){var a=c.queue,d,f;if(b.iA(a))for(d=0;d<a.length;d++)f=a[d],b.iF(f)&&f();delete c.queue,_ent.push=function(a){a()},b.iF(e)&&e()})}(this,_ent.util,_ent.data);
define("cc/show",function(a,b){function d(a,b){var e,f;for(e in b)f=b[e],c.iPO(f)?(c.iPO(a[e])||(a[e]={}),d(a[e],f)):c.iA(f)?a[e]=[].concat(f):a[e]=f;return a}function e(b,c,e,g){g&&g.dup&&(e=d({},e));var h="cc/templets/"+e.info.templet,i="cc/renderer/"+(window.tbcc_renderer||"tbcc"),j=e.info.hook,k=[h,i];!e.sans_hook&&j&&k.push("cc/vender/"+j),e.uid=c,e.id=b,a.async(k,function(a,b,c){f(e,a,b,c)})}function f(a,b,d,e){g(a,e),a.renderer=d,b.render(a,function(){c.iF(b.bind)&&b.bind(a),c.iF(b.sync)&&b.sync(a),c.iF(a.afterRender)&&a.afterRender(a)})}function g(a,b){var d,e;if(!b||!c.iPO(b.on))return;for(d in b.on)c.iF(a[d])?(e=a[d],a[d]=function(a){e(a),b.on[d](a)}):a[d]=b.on[d]}var c=a("ent");b.show=function(b,d,f,g){window.setTimeout(function(){c.iPO(f)?e(b,d,f,g):a.async("cc/creations/"+b,function(a){e(b,d,a,g)})},0)}});
var Mustache=function(){var a=function(){};return a.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){d||(this.context=b,this.buffer=[]);if(!this.includes("",a)){if(d)return a;this.send(a);return}a=this.render_pragmas(a);var e=this.render_section(a,b,c);if(d)return this.render_tags(e,b,c,d);this.render_tags(e,b,c,d)},send:function(a){a!=""&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this,c=new RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag);return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c])throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"};b.pragmas[c]={};if(d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,c){a=this.trim(a);if(!c||c[a]===undefined)throw{message:"unknown_partial '"+a+"'"};return typeof b[a]!="object"?this.render(c[a],b,c,!0):this.render(c[a],b[a],c,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return a;var d=this,e=new RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg");return a.replace(e,function(a,e,f,g){var h=d.find(f,b);if(e=="^")return!h||d.is_array(h)&&h.length===0?d.render(g,b,c,!0):"";if(e=="#")return d.is_array(h)?d.map(h,function(a){return d.render(g,d.create_context(a),c,!0)}).join(""):d.is_object(h)?d.render(g,d.create_context(h),c,!0):typeof h=="function"?h.call(b,g,function(a){return d.render(a,b,c,!0)}):h?d.render(g,b,c,!0):""})},render_tags:function(a,b,c,d){var e=this,f=function(){return new RegExp(e.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+e.ctag+"+","g")},g=f(),h=function(a,d,h){switch(d){case"!":return"";case"=":return e.set_delimiters(h),g=f(),"";case">":return e.render_partial(h,b,c);case"{":return e.find(h,b);default:return e.escape(e.find(h,b))}},i=a.split("\n");for(var j=0;j<i.length;j++)i[j]=i[j].replace(g,h,this),d||this.send(i[j]);if(d)return i.join("\n")},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]),this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function c(a){return a===!1||a===0||a}a=this.trim(a);var d;return c(b[a])?d=b[a]:c(this.context[a])&&(d=this.context[a]),typeof d=="function"?d.apply(b):d!==undefined?d:""},includes:function(a,b){return b.indexOf(this.otag+a)!=-1},escape:function(a){return a=String(a===null?"":a),a.replace(/&(?!\w+;)|["<>\\]/g,function(a){switch(a){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return a}})},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&typeof a=="object"},is_array:function(a){return Object.prototype.toString.call(a)==="[object Array]"},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,b){if(typeof a.map=="function")return a.map(b);var c=[],d=a.length;for(var e=0;e<d;e++)c.push(b(a[e]));return c}},{name:"mustache.js",version:"0.3.0",to_html:function(b,c,d,e){var f=new a;e&&(f.send=e),f.render(b,c,d);if(!e)return f.buffer.join("\n")}}}();define("cc/mustache",function(a,b){function d(a,b){var f,g;for(f in a){if(!a.hasOwnProperty(f))continue;g=a[f],c.iA(g)?e(g):c.iPO(g)&&typeof g.nodeType=="undefined"&&typeof g.jquery=="undefined"&&b<5&&d(g,b+1)}}function e(a){var b,d;for(b=0;b<a.length;b++)d=a[b],c.iPO(d)&&(b===0?d.__first__=!0:b==a.length-1?d.__last__=!0:d.__mid__=!0,d.__index__=b)}var c=a("ent");b.name=Mustache.name,b.version=Mustache.version,b.to_html=function(){var a,b,e,f,g=arguments[1];return c.iPO(g)&&d(g,0),Mustache.to_html.apply(this,arguments)}});
define("cc/dataservice",function(a,b){var c=a("ent");b.getData=function(b,d,e){var f="cc/datasource/"+b.datasource[d].ds_sn;a.async(f,function(a){a.getData(b,d,function(){c.iF(b.afterGetData)&&b.afterGetData(b,d),e()})})}});
define("cc/templets/meta",function(a,b){b.attachStyle=function(a,b){var c,d,e=a.css,f=a.uid,g=a.doc||document,h=e.split("}"),i=g.getElementsByTagName("head")[0],j=g.createElement("style"),k=g.getElementById("j-"+f+"-css"),l;k&&i.removeChild(k);var m=!b||!b.asIs;for(d=0;d<h.length;d++){if(h[d].indexOf("{")<0)continue;c=h[d].split("{"),m?l=c[0].replace(/\./g,"."+f+"-"):l=c[0].replace(/\./g,"#tbcc-c-"+f+" ."),h[d]=l+"{"+c[1]}h=g.createTextNode(h.join("}\n")),j.type="text/css",j.styleSheet?j.styleSheet.cssText=h.nodeValue:j.appendChild(h),j.id="j-"+f+"-css",i.appendChild(j)}});
define("cc/tutil/label",[],function(a,b){b.label=function(a){var b=a.items,c;for(c=0;c<b.length;c++)b[c].cc_label=c+1}});
define("cc/tutil/split",[],function(a,b){b.split=function(a,b,c){var d=a.items,e=a.groups=[],f=0;if(!d||d.length===0||b<=0)throw"provided params error";while(f*b<d.length)e[f]={items:d.slice(f*b,(f+1)*b),label:c?c[f]:f+1},f++}});
define("cc/util/et",function(a,b,c){function f(){}function g(a,b){return!!a&&a.nodeType==b}var d=a("ent"),e=1;d.mix(f,{is:g,addClass:function(a,b){if(!g(a,e)||!b)return;if(!a.className){a.className=b;return}f.hasClass(a,b)||(a.className+=" "+b)},removeClass:function(a,b){if(!g(a,e)||!a.className||!b)return;var c=a.className.split(" "),d;for(d=0;d<c.length;d++)if(b===c[d])break;c.splice(d,1),a.className=c.join(" ")},hasClass:function(a,b){if(!g(a,e)||!a.className||!b)return!1;var c=a.className.split(" "),d;for(d=0;d<c.length;d++)if(c[d]===b)return!0;return!1},siblings:function(a,b){if(!g(a,e))return;var c=a.nextSibling;while(c)g(c,e)&&b(c),c=c.nextSibling;c=a.previousSibling;while(c)g(c,e)&&b(c),c=c.previousSibling},children:function(a){if(!g(a,e))return;var b=a.childNodes,c,d,f=b.length,h=[];for(c=0;c<f;c++)d=b[c],g(d,e)&&h.push(d);return h},index:function(a){if(!g(a,e)||!a.parentNode)return-1;var b=0,c=a.parentNode.firstChild;while(c!==a)g(c,e)&&b++,c=c.nextSibling;return b},css:function(a,b){if(!g(a,e)||!d.iPO(b))return;var c;for(c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},version:"0.1"}),c.exports=f});
define("cc/effect/switchable",["cc/util/et"],function(a,b,c){function g(a,b){if(!a)return;b=e.mix(b||{},f,!1),/[?&]adx_type=1/.test(location.href)&&(b.stopsAt=3e4);var c=b.win||window,g=c.document,h=g.getElementById(a),i,j,k=[],l=[],m,n,o;for(m=0;m<b.triggerCount;m++){o=a+"-triggers"+(m===0?"":m+1),i=g.getElementById(o),j=d.children(i);for(n=0;n<j.length;n++)j[n].setAttribute("data-index",k.length),k.push(j[n])}for(m=0;m<b.frameCount;m++)o=a+"-frames"+(m===0?"":m+1),i=g.getElementById(o),l[m]=d.children(i);this.config=b,this.win=c,this.doc=g,this.id=a,this.box=h,this.frames=l,this.triggers=k,this.dawn=+(new Date),this.bind()}var d=a("cc/util/et"),e=a("ent"),f;return f={eventType:"mouseover",currentClass:"current",auto:!0,interval:5e3,triggerCount:1,frameCount:1,stopsAt:-1},e.mix(g.prototype,{bind:function(){var a=this.box,b=this;a.onmouseover=function(a){b.dispatch(a)},a.onmouseout=function(a){b.start(a)}},dispatch:function(a){a=a||this.win.event;var b=a.target||a.srcElement,c,e=this.config.currentClass;d.hasClass(b,"j-trigger")?(c=parseInt(b.getAttribute("data-index"),10),this.show(c),this.stop()):d.hasClass(b,"j-frame")&&this.stop()},show:function(a){function i(a){d.removeClass(a,b)}var b=this.config.currentClass,c=this.triggers,e=this.frames,f,g,h=c[a];for(f=0;f<e.length;f++)g=e[f][a],d.addClass(g,b),d.siblings(g,i),g&&!g.getAttribute("data-img-loaded")&&this.loadImg(g);for(f=0;f<c.length;f++)d.removeClass(c[f],b);d.addClass(h,b)},loadImg:function(a){var b=a.getElementsByTagName("img"),c,d;for(c=0;c<b.length;c++)d=b[c],d.src=d.getAttribute("data-src");a.setAttribute("data-img-loaded",!0)},stop:function(){this.timer&&clearInterval(this.timer)},start:function(){var a=this;this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){var b=a.config.stopsAt,c=+(new Date)-a.dawn;b>=0&&c>=b?a.stop():a.next()},a.config.interval)},next:function(){var a=this.cur();a>=0&&(a=a+1<this.triggers.length?a+1:0,this.show(a))},cur:function(){var a=this.config.currentClass,b=0,c=!1,e,f=this.triggers;for(b=0;b<f.length;b++){e=f[b];if(d.hasClass(e,a)){c=!0;break}}return c?b:-1},prev:function(){var a=this.cur();a>=0&&(a=a-1>=0?a-1:this.triggers.length-1,this.show(a))}}),g});
define("cc/templets/p4p/dp/600x90hl",["cc/mustache","cc/dataservice","cc/templets/meta","cc/tutil/label","cc/tutil/split","cc/effect/switchable"],function(a,b){var c=a("cc/mustache"),d=a("cc/templets/meta"),e=a("cc/dataservice"),f=a("cc/effect/switchable"),g=a("cc/tutil/label"),h=a("cc/tutil/split"),i,j;j=".global{font-size:12px;font-family:tahoma,Arial,B8BF53;overflow:hidden;*zoom:1;border:1px solid #ececec;width:598px;height:88px;background:#fff;}.global,.global a,.global img,ul,li{padding:0;margin:0;text-decoration:none;list-style:none;}.global em{font-style:normal}.global .logo{float:left;width:118px;height:88px;text-indent:-9999px;background:#fff url(http://img03.taobaocdn.com/tps/i3/T1e2CTXmlvXXXXXXXX-100-50.png) 10px 20px no-repeat;margin:0 8px 0 10px;}.frames-box{width:580px;height:80px;float:left;margin-top:4px;*zoom:1;overflow:hidden;position:relative;}.frames{width:790px;height:80px;overflow:hidden;*zoom:1;}.frames .frame{display:none}.frames .current{display:block}.item{float:left;width:192px;height:88px;padding-left:4px;overflow:hidden;margin:0;}.pic-box{position:relative;float:left;width:80px;height:80px;text-align:center;}.pic{display:table-cell;vertical-align:middle;line-height:68px;width:80px;height:80px;line-height:68px\\9;*display:block;*font-size:70px;*font-family:Arial}.pic img{vertical-align:middle;border:none;}.detail{float:left;width:98px;height:74px;margin:8px 0 0 8px;text-align:left;overflow:hidden;}.item .price{display:block;width:70px;height:24px;margin:8px 0 0 2px;position:relative;color:#747474;background:url(http://img04.taobaocdn.com/tps/i4/T13EGTXi8aXXXXXXXX-22-24.png) no-repeat -16px 1px;}.price span{padding-left:12px;color:#db080a;font-weight:bold;position:absolute;bottom:10px;left:0;text-align:center;display:block;width:100%;text-align:left;font-family:Verdana,Arial;font-size:14px;}.global .title{color:#555;display:inline-block;width:90px;height:36px;line-height:18px;overflow:hidden;text-overflow:ellipsis;}.global .title:hover,.global .price:hover{text-decoration:none;cursor:pointer;}.pic-box .count{position:absolute;color:#555555;opacity:0.9;filter:alpha(opacity=90);line-height:15px;text-align:center;}.pic-box .count{width:80px;height:15px;padding:2px 0px;background:#302921;bottom:0px;left:0px;color:#fff;}.pic-box .count em{font-weight:bold;color:#f98c2c;font-family:tahoma;font-size:12px;}.pic-box .label{position:absolute;display:block;width:27px;height:27px;background:url(http://img02.taobaocdn.com/tps/i2/T17UyTXdxaXXXXXXXX-83-132.png) -56px 0 transparent no-repeat;top:0px;left:0px;text-indent:0;text-align:left;}.pic-box .label em{display:block;width:15px;color:#fff;font-weight:bold;line-height:19px;font-family:tahoma;font-size:10px;text-align:center;-webkit-transform: scale(0.8)}.triggers{width:10px;height:80px;float:right;margin:10px 6px 0 0;}.triggers a{display:block;text-decoration:none;height:9px;width:9px;background:url(http://img04.taobaocdn.com/tps/i4/T1X7S2XlXeXXXXXXXX-22-24.png) 0 0 no-repeat;_background:url(http://img03.taobaocdn.com/tps/i3/T14kO2XlteXXXXXXXX-22-24.gif) 0 0 no-repeat;margin:0 0 6px 0;text-indent:-9999em;font-size:0px;}.triggers a:hover,.triggers a.current{color:#fff;text-decoration:none;background-position:0 -15px;background-repeat:no-repeat}",i='<div class="{{uid}}-global" id="j-{{uid}}-sa">{{#style}}<a class="{{uid}}-logo" href="{{logo_clickurl}}" target="_blank">\u6dd8\u5b9d\u7f51</a>{{/style}}{{#data}}{{#ds1}}<div class="{{uid}}-frames-box"><div class="{{uid}}-frames" id="j-{{uid}}-sa-frames">{{#groups}}<div class="{{uid}}-frame">{{#items}}<div class="{{uid}}-item"><div class="{{uid}}-pic-box"><a href="{{ds_clickurl}}" class="{{uid}}-pic" target="_blank">{{#ds_img}}<img data-src="{{src}}"/>{{/ds_img}}</a><span href="{{ds_clickurl}}" class="{{uid}}-count" target="_blank">\u5df2\u552e\u51fa<em>{{ds_sell}}</em>\u4ef6</span><span href="{{ds_clickurl}}" class="{{uid}}-label" target="_blank"><em>{{cc_label}}</em></span></div><div class="{{uid}}-detail"><a href="{{ds_clickurl}}" class="{{uid}}-title" target="_blank">{{ds_title}}</a><a href="{{ds_clickurl}}" class="{{uid}}-price" target="_blank"><span>{{ds_price}}</span></a></div></div>{{/items}}</div>{{/groups}}</div></div><div class="{{uid}}-triggers" id="j-{{uid}}-sa-triggers">{{#groups}}<a href="#group-{{label}}" class="j-trigger">{{label}}</a>{{/groups}}</div>{{/ds1}}{{/data}}</div>',b.render=function(a,b){e.getData(a,"ds1",function(){g.label(a.data.ds1),h.split(a.data.ds1,3);var e=c.to_html(i,a);a.sHTML=e,a.renderer.render(a),a.css=j,d.attachStyle(a),b()})},b.bind=function(a){var b="j-"+a.uid+"-sa",c,d;c={currentClass:a.uid+"-current"},a.sa=new f(b,c),a.sa.bind()},b.sync=function(a){a.sa.show(0),a.sa.start()}});
define("cc/renderer/tbcc",function(a,b){b.render=function(a){var b=document.getElementById("tbcc-c-"+a.uid),c,d=a.info,e="";d.width>0&&(e+="width:"+d.width+"px;"),d.height>0&&(e+="height:"+d.height+"px;"),b.style.cssText=e+"display:block;overflow:hidden;*zoom:1;",c=b.firstElementChild||b.children[0],c.innerHTML=a.sHTML,a.outerEle=b,a.innerEle=c}});
define("cc/util/params",function(a,b){var c=a("ent");b.replace=function(a,b){if(!b)return a;var d="=",e="?",f="&",g="#",h=a.split(e),i=h[0],j=(h[1]||"").split(g),k=j[1]||"",l,m,n,o,p;b=c.mix({},b),j=(j[0]||"").split(f);for(n=0;n<j.length;n++){l=j[n].split(d);for(o in b){p=b[o]||"",m=l[0]===o;if(m){l[1]=c.iF(p)?p(l[1]):p,j[n]=l.join(d);break}}m&&delete b[o]}for(o in b)p=b[o]||"",p=c.iF(p)?p(""):p,!p||(l=o+d+p,j.push(l));return a=i+e+j.join(f),k&&(a+=g+k),a},b.get=function(a,b){var d=a.split("#")[0].split("?")[1]||"",e=d.split("&"),f,g,h,i,j=c.iS(b),k=j?"":{};if(!d)return k;for(h=0;h<e.length;h++){f=e[h],g=f.split("=");if(!f)continue;if(!b)k[g[0]]=g[1]||"";else if(j&&g[0]===b)k=g[1];else for(i=0;i<b.length;i++)g[0]===b[i]&&(k[g[0]]=g[1]||"")}return k}});
define("cc/vender/p4p/wt_hook",["cc/util/params"],function(a,b){function e(a,b,d){var f,g;if(c.iPO(a))for(f in a)f===b?a[f]=d(a[f]):e(a[f],b,d);else if(c.iA(a))for(g=0;g<a.length;g++)e(a[g],b,d)}function f(a,b){return a.indexOf("http://"+b+".simba.taobao.com")===0}function g(a,b){function m(a){return f(a,"redirect")||f(a,"click.mz")?o(a):f(a,"stat")?p(a):a.indexOf("http://re.taobao.com")===0?d.replace(a,i):a}function n(a){var b=c.mix({},i);return a=decodeURIComponent(a),a.indexOf("http://re.taobao.com")===0?delete b.pid:a.indexOf("http://www.taobao.com")===0&&delete b.refpid,a=d.replace(a,b),encodeURIComponent(a)}function o(a){var b={f:n};return i.refpid&&(b.p=i.refpid),i.pvid&&(b.pvid=i.pvid),d.replace(a,b)}function p(a){var b={l:n};return i.refpid&&(b.pid=i.refpid),i.pvid&&(b.pvid=i.pvid),d.replace(a,b)}var g,h=["pid","refpos","pvid"],i;if(!a.data||!a.data[b])return;g=a.data[b],i=d.get(window.location.href,h),i.refpid=i.pid=i.pid||"mm_0_0_0",c.mix(i,{refpos:",n,a"},!1),e(g,"ds_clickurl",m);var j=a.style,k,l;for(k in j)/_clickurl$/.test(k)&&(j[k]=m(j[k]))}function h(a){function k(a){var b=decodeURIComponent(a),c=j+e+i;return b=d.replace(b,{refpos:c}),encodeURIComponent(b)}function l(a){var b;if(f(a,"redirect")||f("click.mz"))a=decodeURIComponent(d.get(a,"f"));return d.get(a,"refpos")}var b=a.innerEle,c=b.getElementsByTagName("a"),e,g,h,i,j;j=a.info.templet_id+"_"+(""+a.id).split("/").pop()+"_";for(e=0;e<c.length;e++)g=c[e],h=g.getAttribute("href"),i=l(h),f(h,"redirect")||f(h,"click.mz")?h=d.replace(h,{f:k}):h.indexOf("http://re.taobao.com")===0&&(h=d.replace(h,{refpos:j+e+i})),g.setAttribute("href",h)}function i(b){var c=b.info.templet;/^p4p\/(tw|dp|dtw)/.test(c)&&a.load("http://cdn.tanx.com/t/tanxclick.js",function(){})}var c=a("ent"),d=a("cc/util/params");b.on={afterGetData:function(a,b){g(a,b)},afterRender:function(a){h(a),i(a)}}});
define("cc/datasource/p4p",["cc/util/params"],function(a,b){function g(a,b){var c,e=[];if(!d.iA(a))return a;for(c=0;c<a.length;c++)e.push(h(a[c],b));return e}function h(a,b){var c,d,e={},g,h,j,k,l=i(b);for(c in f)d=f[c],d=="ds_img"?(g=a.DISPLAY_RESOLUTION.split("*"),h=parseInt(g[0],10),j=parseInt(g[1],10),k=e[d]={},b&&l?k.src=a[c].replace(/[^_]+\.(jpg|gif)$/,"")+l+".jpg":k.src=a[c],k.width=h||0,k.height=j||0):d=="ds_price"?e[d]=(a[c]/100).toFixed(2):e[d]=a[c];return e}function i(a){var b,c,d=e,f=d.length,g=parseInt(a,10);for(b=0;b<f;b++){c=d[b];if(c[0]==g)break}return b===f?"":c[2]||g+"x"+g}var c=a("cc/util/params"),d=a("ent"),e=[[24,24],[30,30],[40,40],[60,60],[63,63,"60x30"],[70,70],[80,80,"sum"],[81,65],[84,84,"80x40"],[110,90],[100,100],[110,110],[120,120,"m"],[160,160],[170,170],[220,220,"b"],[250,250],[310,310],[620,620,"620x10000"],[670,670]],f={TBGOODSLINK:"ds_img",EURL:"ds_clickurl",TITLE:"ds_title",GOODSPRICE:"ds_price",SELL:"ds_sell"};b.getData=function(b,e,f){var h="tbcc_p4p_fn_"+(b.uid?b.uid.replace(/[^a-z0-9_$]/ig,"_"):+(new Date)),i=b.datasource[e],j=i.qp_imgsize,k=d.substitute(i.ds_host,{qp_count:i.qp_count,qp_callback:h});if(!i.frozen){var l=c.get(location.href)||window.TBCC_P4P;d.iPO(l)&&(l.refpid=l.pid,k=c.replace(k,l))}a.load(k,function(){var a=b.datasource[e].qp_imgsize,c=window[h];b.data=b.data||{},b.data[e]=b.data[e]||{},b.data[e].items=d.iA(c)?g(c,a):[],f()})}});
define('cc/creations/2012_3/4744', [], {"info":{"width":600,"height":90,"templet":"p4p/dp/600x90hl","hook":"p4p/wt_hook","templet_id":208},"datasource":{"ds1":{"ds_sn":"p4p","ds_host":"http://tns.simba.taobao.com/?name=itemdsp&count={qp_count}&o=j&p4p={qp_callback}","qp_count":15,"qp_imgsize":80,"fields":["ds_clickurl","ds_price","ds_title","ds_img"]}}});
